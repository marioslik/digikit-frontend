"use strict";$(function(){function e(){TweenMax.to("#main-nav",.75,{ease:Power3.easeInOut,className:"+=inactive",delay:.5})}function a(){var a=$("#main-nav");a.is(":hover")?TweenMax.set(a,{className:"active"}):e()}function r(){$("#videos .flexcontainer").height($(".video-container iframe").height()+0)}function t(){I=$("#raine-and-horne-sales.mobile-slider.current #raine-and-horne-sales-wrapper").bxSlider({minSlides:1,maxSlides:2,slideMargin:10})}function s(){O=$("#market-sales.mobile-slider.current #market-sales-wrapper").bxSlider({minSlides:1,maxSlides:2,slideMargin:10})}function o(){P=$("#current-listings.mobile-slider.current #current-listings-wrapper").bxSlider({minSlides:1,maxSlides:2,slideMargin:10})}function n(){$("#market-sales.mobile-slider").hasClass("current")?s():$("#current-listings.mobile-slider").hasClass("current")?o():$("#raine-and-horne-sales.mobile-slider").hasClass("current")&&t()}function l(e){return"$"+parseFloat(e).toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function i(){S=new Chart(y).Line(k,C)}function c(){F=new Chart(A).Line(E,N)}console.log("app started"),$("#market-sales").hasClass("mobile-slider")&&$("#market-sales.mobile-slider.current #market-sales-wrapper").bxSlider({minSlides:1,maxSlides:2,slideMargin:10}),n(),s(),o();var u=($("#wrapper"),$("header").height()),p=$("#nav-menu, #nav-header, #logo-section, footer"),m=$(window),d=$("section");$("nav");if(0===m.scrollTop()){(new TimelineMax).from("#hero img",1.25,{ease:Power1.easeInOut,x:400,alpha:0}).from("#hero h1",1.25,{ease:Power1.easeInOut,x:-600,alpha:0},"-=1.25").from("#hero h3",1.25,{ease:Power1.easeInOut,x:700,alpha:0},"-=1.25").from("#hero .line",1.25,{ease:Power1.easeInOut,scaleX:0,x:-200,alpha:0},"-=1.25").from("#agent-profile .agent-photo",1.25,{ease:Power1.easeInOut,x:-200,alpha:0},"-=1").from("#agent-profile .line",1.25,{ease:Power1.easeInOut,scaleX:0,x:300,alpha:0},"-=1.25").from("#agent-profile .agent-info",1.25,{ease:Power1.easeInOut,x:200,alpha:0},"-=1.25")}$(window).on("scroll",function(){var e=$(this).scrollTop();d.each(function(){var a=$(this).offset().top-u,r=a+$(this).height();e>=a&&e<=r&&(p.find("a").removeClass("active"),d.removeClass("active"),$(this).addClass("active"),p.find('a[href="#'+$(this).attr("id")+'"]').addClass("active"))})}),p.on("click","a",function(){var e=$(this),r=$("#nav-menu a").not(e),t=e.attr("href"),s=$(t).offset().top-u;return(new TimelineMax).to(m,1.25,{scrollTo:{y:s,autoKill:!0},ease:Power2.easeInOut}).set(r,{className:"-=active"},"+=0.25").set(e,{className:"+=active"},"+=0.0").call(a,[],this,"-=0.2"),!1}),TweenMax.set("#main-nav",{className:"+=inactive"}),TweenMax.set("#compare-property-nav ul li:first-child a",{className:"+=current"}),TweenMax.set("#raine-and-horne-sales",{display:"block",autoAlpha:1}),TweenMax.set("#suburb-profile-nav ul li:first-child a",{className:"+=current"}),TweenMax.set("#profile-chart-houses",{display:"block",autoAlpha:1}),TweenMax.set("#profile-chart-units",{autoAlpha:0,display:"block"}),TweenMax.to("#profile-chart-units",.1,{autoAlpha:0,display:"none"}),TweenMax.set("#the-process-nav ul li:first-child a",{className:"+=current"}),TweenMax.set("#the-process-panel",{display:"block",autoAlpha:1}),$("#nav-toggle").click(function(e){TweenMax.to("#main-nav",.75,{ease:Power3.easeInOut,className:"-=inactive"})}),$("#close-nav").click(function(e){TweenMax.to("#main-nav",.75,{ease:Power3.easeInOut,className:"+=inactive"})}),r(),$(window).resize(function(){r()}),$(".video-thumb").on("click",function(e){var a=$(this).attr("iframe-data");$("#video")[0].src=a,$("#video")[0].src+="&autoplay=1",e.preventDefault()});var h,w,f,v,g,x,b,T,M=new ScrollMagic.Controller;h=new TimelineMax,h.from(".single.column.box",1,{ease:Power1.easeInOut,x:-100,alpha:0}).from(".one-row.top.box",.9,{ease:Power1.easeInOut,x:100,alpha:0},"-=0.75").from(".one-row.bottom.box",.9,{ease:Power1.easeInOut,x:100,alpha:0},"-=0.75"),new ScrollMagic.Scene({triggerElement:"#videos",offset:50,reverse:!1}).setTween(h).addTo(M),w=new TimelineMax,h.from(".team-panel",1,{ease:Power1.easeInOut,x:-100,alpha:0}).from(".team-photo",1,{ease:Power1.easeInOut,x:100,alpha:0},"-=1"),new ScrollMagic.Scene({triggerElement:"#your-team",offset:50,reverse:!1}).setTween(w).addTo(M),f=new TimelineMax,f.from("#resources h2",1,{ease:Power1.easeInOut,x:-100,alpha:0}).staggerFrom("#resources .icon-card",1,{ease:Power1.easeInOut,y:75,alpha:0},.15,"-=1").from("#resources .card-container",1,{ease:Power1.easeInOut,boxShadow:"0 0 0 0 rgba(0, 0, 0, 0)"},"-=1"),new ScrollMagic.Scene({triggerElement:"#resources",offset:50,reverse:!1}).setTween(f).addTo(M),v=new TimelineMax,v.from(".market-map",1,{ease:Power1.easeInOut,x:-100,alpha:0}).from(".market-panel",1,{ease:Power1.easeInOut,x:100,alpha:0},"-=1"),new ScrollMagic.Scene({triggerElement:"#your-market",offset:50,reverse:!1}).setTween(v).addTo(M),g=new TimelineMax,g.from("#compare-property h2",1,{ease:Power1.easeInOut,x:-100,alpha:0}).from("#compare-property-nav",1,{ease:Power1.easeInOut,x:100,alpha:0},"-=1").staggerFrom("#compare-property .panels .panel .card",1,{ease:Power1.easeInOut,y:75,alpha:0},.15,"-=1").call(n,[],this,""),new ScrollMagic.Scene({triggerElement:"#compare-property",offset:50,reverse:!1}).setTween(g).addTo(M),x=new TimelineMax,x.from("#suburb-profile h3",1,{ease:Power1.easeInOut,x:-100,alpha:0}).from("#suburb-profile h2",1,{ease:Power1.easeInOut,x:-100,alpha:0},"-=0.9").call(i,[],"-=1"),new ScrollMagic.Scene({triggerElement:"#suburb-profile",offset:200,reverse:!1}).setTween(x).addTo(M),b=new TimelineMax,b.from("#the-process h2",1,{ease:Power1.easeInOut,x:-100,alpha:0}).from("#the-process-nav",1,{ease:Power1.easeInOut,x:100,alpha:0},"-=1").staggerFrom("#the-process .panel .icon-card",1,{ease:Power1.easeInOut,y:75,alpha:0},.15,"-=1").from("#the-process .card-container",1,{ease:Power1.easeInOut,boxShadow:"0 0 0 0 rgba(0, 0, 0, 0)"},"-=1"),new ScrollMagic.Scene({triggerElement:"#the-process",offset:100,reverse:!1}).setTween(b).addTo(M),T=new TimelineMax,T.from(".form-container",1,{ease:Power1.easeInOut,x:100,alpha:0}),new ScrollMagic.Scene({triggerElement:"#questions-feedback",offset:30,reverse:!1}).setTween(T).addTo(M);var I,O,P;$("#compare-property-nav ul li").click(function(){n();var e=$(this).attr("data-tab");$("#"+e),$("#compare-property .panels div").attr("id");TweenMax.to($("#compare-property-nav ul li a"),.4,{ease:Power1.easeInOut,className:"-=current"}),TweenMax.to($(this).children("a"),.4,{ease:Power1.easeInOut,className:"+=current"}),TweenMax.to($(this).children("a::after"),.4,{ease:Power1.easeInOut,scaleX:1}),(new TimelineMax).to("#compare-property .panel",.5,{ease:Power1.easeInOut,autoAlpha:0,className:"-=current"}).set("#compare-property .panel",{display:"none",delay:.1}).set($("#"+e),{display:"block",height:"100%",autoAlpha:0}).to($("#"+e),.25,{ease:Power1.easeInOut,autoAlpha:1,className:"+=current"}).call(n,[],this,"")}),$("#suburb-profile-nav ul li").click(function(){function e(){"profile-chart-houses"==a?i():"profile-chart-units"==a&&(c(),console.log("units"))}var a=$(this).attr("data-tab");TweenMax.to($("#suburb-profile-nav ul li a"),.4,{ease:Power1.easeInOut,className:"-=current"}),TweenMax.to($(this).children("a"),.4,{ease:Power1.easeInOut,className:"+=current"}),TweenMax.to($(this).children("a::after"),.4,{ease:Power1.easeInOut,scaleX:1}),(new TimelineMax).to("#suburb-profile .panel",.5,{ease:Power1.easeInOut,autoAlpha:0}).set("#suburb-profile .panel",{display:"none",delay:.1}).set($("#"+a),{display:"block"}).to($("#"+a),.25,{ease:Power1.easeInOut,autoAlpha:1}).call(e,[],"-=0")});var S,y,C,k={labels:["2010","2011","2012","2013","2014","2015","2016"],datasets:[{fillColor:"rgba(0,0,0,0.05)",strokeColor:"#45484D",pointColor:"#F7F7F7",pointHighlightFill:"#FCB718",pointHighlightStroke:"#FCB718",pointHoverRadius:20,pointStrokeColor:"#45484D",data:[65e4,679e3,72e4,765e3,81e4,86e4,979e3]}]};y=document.getElementById("median-price-chart").getContext("2d"),Chart.defaults.global.customTooltips=function(e){var a=$(".chart-value"),r=$(".chart-meta-period");if(!e)return void a.css({opacity:1});if(!e)return void r.css({opacity:1});var t=e.text.split(":");a.removeClass("above below"),a.addClass(e.yAlign),r.removeClass("above below"),r.addClass(e.yAlign);var s=t[1];r.html(t[0]);var o=s.toString(),n=l(o);a.html(n);e.yAlign,a.css({opacity:1,left:e.chart.canvas.offsetRight+e.x+"px",fontFamily:e.fontFamily,fontWeight:200,lineHeight:1.3}),r.css({opacity:1,left:e.chart.canvas.offsetRight+e.x+"px",fontFamily:e.fontFamily,fontStyle:e.fontStyle})},C={responsive:!0,maintainAspectRatio:!0,pointDotRadius:6,bezierCurve:!0,scaleShowLabels:!1,scaleOverride:!1,scaleShowHorizontalLines:!1,scaleShowVerticalLines:!0,lineJoin:String,scaleLineColor:"transparent",scaleGridLineColor:"#EBE9E9",scaleLabel:function(e){return e.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}};var F,A,N,E={labels:["2010","2011","2012","2013","2014","2015","2016"],datasets:[{fillColor:"rgba(0,0,0,0.05)",strokeColor:"#45484D",pointColor:"#F7F7F7",pointHighlightFill:"#FCB718",pointHighlightStroke:"#FCB718",pointHoverRadius:20,pointStrokeColor:"#45484D",data:[55e4,579e3,72e4,765e3,81e4,86e4,874e3]}]};A=document.getElementById("median-price-chart-units").getContext("2d"),N={responsive:!0,maintainAspectRatio:!0,pointDotRadius:6,bezierCurve:!0,scaleShowLabels:!1,scaleOverride:!1,scaleShowHorizontalLines:!1,scaleShowVerticalLines:!0,lineJoin:String,scaleLineColor:"transparent",scaleGridLineColor:"#EBE9E9",legend:{fontSize:40}};$("#suburb-profile-nav ul li").attr("data-tab");$("#the-process-nav ul li").click(function(){var e=$(this).attr("data-tab");TweenMax.to($("#the-process-nav ul li a"),.4,{ease:Power1.easeInOut,className:"-=current"}),TweenMax.to($(this).children("a"),.4,{ease:Power1.easeInOut,className:"+=current"}),TweenMax.to($(this).children("a::after"),.4,{ease:Power1.easeInOut,scaleX:1}),(new TimelineMax).to("#the-process .panel",.5,{ease:Power1.easeInOut,autoAlpha:0}).set("#the-process .panel",{display:"none",delay:.1}).set($("#"+e),{display:"block"}).to($("#"+e),.25,{ease:Power1.easeInOut,autoAlpha:1})});var L=new TimelineMax;TweenMax.set(".modal",{autoAlpha:0,width:"100%",scale:.8}),$(".modal-link").click(function(){console.log("modal link");var e=$(this).attr("modal-id");L.to($("#"+e),.5,{ease:Power1.easeInOut,autoAlpha:1,scale:1})}),$(".back-to-main, .modal-logo").click(function(){L.to(".modal",.5,{ease:Power1.easeInOut,autoAlpha:0,x:-100}).set(".modal",{x:0,scale:.8})});var B=function(){window.matchMedia("(max-width: 39.99999999em)").matches?$(".icon-card .modal-link").html('<img src="img/icons/arrow-head.svg" />'):window.matchMedia("(min-width: 40em)").matches&&$(".icon-card .modal-link").html("More"),window.matchMedia("(max-width: 768px)").matches?($("#raine-and-horne-sales").addClass("mobile-slider"),$("#market-sales").addClass("mobile-slider"),$("#current-listings").addClass("mobile-slider")):($("#raine-and-horne-sales").removeClass("mobile-slider"),$("#market-sales").removeClass("mobile-slider"),$("#current-listings").removeClass("mobile-slider"))};$(window).resize(B),B()});